{% extends 'base.html.twig' %}

{% block title %}Book{% endblock %}

{% block body %}
<!--index for books page-->
  <div class="ht__bradcaump__area bg-image--5">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="bradcaump__inner text-center">
                        	<h2 class="bradcaump-title">Shop Grid</h2>
                            <nav class="bradcaump-content">
                              <a class="breadcrumb_item" href="/">Home</a>
                              <span class="brd-separetor">/</span>
                              <a class="breadcrumb_item active" href="/book">Book</a>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
     
      <!-- Start Shop Page -->
       
        <div class="page-shop-sidebar left--sidebar bg--white section-padding--lg">
        	<div class="container">
        		<div class="row">
        			<div class="col-lg-3 col-12 order-2 order-lg-1 md-mt-40 sm-mt-40">
        				<div class="shop__sidebar">
        					<aside class="wedget__categories poroduct--cat">
        						<h3 class="wedget__title">Book Categories</h3>
        						<ul> <!--here i can show diffrent book categories refered as genre-->
        					 {% for c in cat %}
                      <li><a href="/genre/{{c.id}}"> {{c.label}} <span>{{c.NumBook}}</span></a></li>
                      {% endfor  %}
        						</ul>
        					</aside>
        					<aside class="wedget__categories pro--range">
        						<h3 class="wedget__title">Filter by price</h3>
        						<div class="content-shopby">
        						    <div class="price_filter s-filter clear">
        						        <form action="#" method="GET">
        						            <div id="slider-range"></div>
        						            <div class="slider__range--output">
        						                <div class="price__output--wrap">
        						                    <div class="price--output">
        						                        <span>Price :</span><input type="text" id="amount" readonly="">
        						                    </div>
        						                    <div class="price--filter">
        						                        <a href="#">Filter</a>
        						                    </div>
        						                </div>
        						            </div>
        						        </form>
        						    </div>
        						</div>
        					</aside>
        					<aside class="wedget__categories poroduct--tag">
        						<h3 class="wedget__title">Book Tags</h3>
        						<ul>
                      {% for c in cat %}
                      <li><a href="#"> {{c.label}}</a></li>
                      {% endfor  %}
        						</ul>
        					</aside>
        					
        				</div>
              </div>
              
        			<div class="col-lg-9 col-12 order-1 order-lg-2">
        				<div class="row">
        					<div class="col-lg-12">
                    {% block search %}
								<div class="shop__list__wrapper d-flex flex-wrap flex-md-nowrap justify-content-between">
									<div class="shop__list nav justify-content-center" role="tablist">
			                            <a class="nav-item nav-link active" data-toggle="tab" href="#nav-grid" role="tab"><i class="fa fa-th"></i></a>
			                            <a class="nav-item nav-link" data-toggle="tab" href="#nav-list" role="tab"><i class="fa fa-list"></i></a>
                              </div>
                  
                              
			                       
			                        <div class="orderby__wrapper">
			                        	<span>Sort By</span>
			                        	<select class="shot__byselect">
			                        		<option>Default sorting</option>
			                        		<option>Price</option>
			                        		<option>Name</option>
			                        		<option>Author</option>
			                        		<option>New</option>
			                        		
			                        	</select>
			                        </div>
                            </div>
                            {% endblock %}
        					</div>
        				</div>

{% block book %}
<div class="tab_container">
<!--book will be added only if user is logged in , this route is restrcited in route.yaml file , if the user is not logged in it will redirect him for the logging page-->
  <a  class="btnAdd"   href="{{ path('book_new') }}">Add New Book</a>  
									
<div class="shop-grid tab-pane fade show active" id="nav-grid" role="tabpanel">
 
	        					<div class="row">
                      
                      <!-- Start Single Product -->
                        {% for book in books %}
                        
		        		<div class="product product__style--3 col-lg-4 col-md-4 col-sm-6 col-12">
						
                        <div class="product__thumb">
                          
						<a class="first__img" href="{{ path('book_show', {'id': book.id}) }}">  <img style='height:340px; width:270px' src="{{ asset('/uploads/' ~ book.img)}}" alt="{{book.name}}"></a>
                      
                     <!-- <a class="second__img animation1" href="{{ path('book_show', {'id': book.id}) }}"><img src="{{ asset ('images/books/2.jpg')}}" alt="product image"></a> -->
                    </div>
					
					
                    
										<div class="product__content content--center">
											<h4><a href="{{ path('book_show', {'id': book.id}) }}">{{book.name}}</a></h4>
											<ul class="prize d-flex">
												<li>{{book.price }} TND</li>
												<li class="old_prize">90 TND</li>
											</ul>
											<div class="action">
												<div class="actions_inner">
													<ul class="add_to_links">
														<li><a class="cart" href="{{ path('book_show', {'id': book.id}) }}"><i class="bi bi-shopping-bag4"></i></a></li>
														<li><a class="wishlist" href="{{ path('book_show', {'id': book.id}) }}"><i class="bi bi-shopping-cart-full"></i></a></li>
														<li><a class="compare" href="{{ path('book_show', {'id': book.id}) }}"><i class="bi bi-heart-beat"></i></a></li>
														
													</ul>
												</div>
											</div>
											<div class="product__hover--content">
												<ul class="rating d-flex">
													{% for i in 0.. book.rate -1 %}
													<li class="on"><i class="fa fa-star-o"></i></li>
													{% endfor %}
												</ul>
											</div>
										</div>
                      </div>
					 
          <!-- end single product -->    
          
          {% else %}       
          
              <h1> no books found </h1>
          {% endfor %}
          
                     </div> 
                     </div>

{% endblock %}
   


       
   
    
    </div>
    </div>
    </div>
    </div>
    </div>
  
{% endblock %}
